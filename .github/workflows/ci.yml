---
# CI workflow using ci-framework reusable workflow
name: CI

on:
  push:
    branches: [main, development]
  pull_request:
    branches: [main, development]
  workflow_dispatch:

jobs:
  ci:
    uses: Claire-s-Monster/ci-framework/.github/workflows/reusable-ci.yml@main
    secrets: inherit

  ci-success:
    name: "CI Success"
    runs-on: ubuntu-latest
    needs: [ci]
    if: always()
    steps:
      - name: "Check CI workflow passed"
        run: |
          if [ "${{ needs.ci.result }}" != "success" ]; then
            echo "CI framework workflow failed"
            exit 1
          fi
          echo "All CI checks passed via ci-framework!"
